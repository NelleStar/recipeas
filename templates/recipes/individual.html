{% extends 'base.html' %}

{% block title %}Recipe Details{% endblock %}

{% block content %}
<div class="container">
    <h1>{{ recipe.title }}</h1>

    <!-- Left column for the image -->
    <div class="row">
        <div class="col-md-6">
            <img src="{{ recipe.image }}" alt="{{ recipe.title }}">

            <h3>Like this recipe? Add it to your favorites!</h3>
            <button id="favorite-button" onclick="toggleFavorite({{ user_id }}, {{ recipe.id }})">
                <i id="star-icon" class="fas {{ 'fa-star' if is_favorite else 'far fa-star' }}"></i>
            </button>

        </div>

        <!-- Right column for recipe details -->
        <div class="col-md-6">
            <p>Ready in {{ recipe.readyInMinutes }} minutes</p>
            <p>Servings: {{ recipe.servings }}</p>
            
            <h3>Ingredients:</h3>
            <ul>
                {% for ingredient in recipe.ingredients %}
                    <li>{{ ingredient.amount }} {{ ingredient.unit }} {{ ingredient.name }}</li>
                {% endfor %}
            </ul>

            <h3>Instructions:</h3>
            <ol>
                {% for step in recipe.instructions %}
                    <li>{{ step | safe}}</li>
                {% endfor %}
            </ol>
        </div>
    </div>
</div>

<script src="/static/script.js"></script>
{% endblock %}
